---
notifications:
  email:
    on_success: never
    on_failure: change

cache: pip

sudo: true

language: python

python:
  - '2.7'
  - '3.6'

install:
  - sudo apt-get install -y cmake {libffi,python}-dev
  - wget https://github.com/libgit2/libgit2/archive/v0.26.0.tar.gz
  - tar xzf v0.26.0.tar.gz
  - cd libgit2-0.26.0/
  - cmake .
  - make
  - sudo make install
  - cd ..
  - pip install coveralls
  - python setup.py install

script:
  - python setup.py test

after_script:
  - coveralls
